<!DOCTYPE html>
<html>
<head>
    <link rel="icon" href="../public/favicon/icon_60be5c9f701c037c54d55de06cabec23.ico" type="image/x-icon">
    <title>Chat App</title>
    <link rel="stylesheet" href="../public/css/style.css">
    <link rel="shortcut icon" href="../public/favicon/icon_60be5c9f701c037c54d55de06cabec23.ico" type="image/x-icon">
</head>
<body>
    <div class="chat-container">
        <h1>Chat en Tiempo Real</h1>

        <!-- Estructura actualizada para usuarios en línea (horizontal) -->
        <div id="onlineUsersContainer" class="online-users-container">
            <h3 class="online-users-title">Usuarios en línea:</h3>
            <div id="userBubbles" class="user-bubbles">
                <!-- Los iconos de usuarios se añadirán aquí dinámicamente -->
            </div>
        </div>
        <div class="chat-box">
            <!-- Área de mensajes -->
            <div id="messageLogs" class="message-logs border p-3 mb-3">
                <!-- Los mensajes se mostrarán aquí -->
            </div>

            <!-- Área de entrada -->
            <div class="input-group">
                <input type="text" id="chatBox" class="chat-input" placeholder="Escribe tu mensaje...">
                <button id="sendButton" class="send-button">Enviar</button>
            </div>

            <!-- Botón de cerrar sesión -->
            <div class="actions" style="margin-top: 10px; text-align: right;">
                <button id="logout-button" class="send-button">Cerrar sesión</button>
            </div>
        </div>
        
        <!-- Tabs para seleccionar entre Spotify y YouTube -->
        <div class="media-tabs">
            <button id="spotifyTab" class="tab-button active">Spotify</button>
            <button id="youtubeTab" class="tab-button">YouTube</button>
        </div>
        
        <!-- Contenedor de Spotify -->
        <div id="spotify-container" class="spotify-container active">
            <h2>Gastify</h2>
            <!-- Botón de login -->
            <button id="loginButton" class="btn-success">Iniciar sesión en Spotify</button>
            <!-- Campo de búsqueda y botón -->
            <div class="input-group">
                <input type="text" id="spotifySearch" class="form-control" placeholder="Buscar canciones...">
                <button id="searchButton" class="btn-primary">Buscar</button>
            </div>
            <!-- Resultados de la búsqueda -->
            <ul id="searchResults" class="list-group">
                <!-- Los resultados se mostrarán aquí -->
            </ul>
            <!-- Reproductor embebido -->
            <iframe id="spotifyPlayer" src="" width="100%" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
            <div id="player-container"></div>
        </div>
        
        <!-- Contenedor de YouTube (inicialmente oculto) -->
        <div id="youtube-container" class="spotify-container">
            <h2>GasTube</h2>
            <!-- Campo de búsqueda y botón -->
            <div class="input-group">
                <input type="text" id="youtubeSearch" class="form-control" placeholder="Buscar videos...">
                <button id="youtubeSearchButton" class="btn-primary">Buscar</button>
            </div>
            <!-- Resultados de la búsqueda -->
            <ul id="youtubeResults" class="list-group">
                <!-- Los resultados se mostrarán aquí -->
            </ul>
            <!-- Reproductor embebido -->
            <iframe id="youtubePlayer" src="" width="100%" height="315" frameborder="0" allowfullscreen></iframe>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="../public/js/main.js"></script>
    <script src="../public/js/spotify.js"></script>
    <script src="../public/js/youtube.js"></script>
    <script src="../public/js/online-users.js"></script>
</body>
</html>
